Here is Claude's plan:                                          │
│ ╭─────────────────────────────────────────────────────────────╮ │
│ │ Multi-LLM Configuration System - Complete Fix Plan          │ │
│ │                                                             │ │
│ │ Issues Identified:                                          │ │
│ │                                                             │ │
│ │ 1. "Manage Configurations" button not visible - Missing     │ │
│ │ i18n translations                                           │ │
│ │ 2. System still using old single-key storage - Settings are │ │
│ │  saved in the old format, not using the new                 │ │
│ │ llm_configurations table                                    │ │
│ │ 3. UX doesn't match requirements - You want a dropdown to   │ │
│ │ select from stored API keys, not a separate management page │ │
│ │                                                             │ │
│ │ Your Requirements:                                          │ │
│ │                                                             │ │
│ │ - Store multiple API keys for different LLM providers       │ │
│ │ - Have a dropdown on the main LLM settings page to select   │ │
│ │ which stored key to use                                     │ │
│ │ - When selecting a provider/model, automatically use the    │ │
│ │ stored API key                                              │ │
│ │ - Allow adding/managing keys directly from the LLM settings │ │
│ │  page                                                       │ │
│ │ - Mark one configuration as default                         │ │
│ │                                                             │ │
│ │ Implementation Plan:                                        │ │
│ │                                                             │ │
│ │ 1. Add Missing i18n Translations                            │ │
│ │                                                             │ │
│ │ - Add all missing translation keys for the LLM              │ │
│ │ configurations feature                                      │ │
│ │ - Ensure "Manage Configurations" button text appears        │ │
│ │                                                             │ │
│ │ 2. Redesign the LLM Settings Page UX                        │ │
│ │                                                             │ │
│ │ - Add a dropdown to select from stored API key              │ │
│ │ configurations                                              │ │
│ │ - Show "Add New API Key" option in the dropdown             │ │
│ │ - Display the selected configuration's masked API key       │ │
│ │ - Add inline management options (edit, delete, set as       │ │
│ │ default)                                                    │ │
│ │                                                             │ │
│ │ 3. Integrate Configuration Selection with Settings          │ │
│ │                                                             │ │
│ │ - When user selects a configuration from dropdown, load its │ │
│ │  provider/model/key                                         │ │
│ │ - When saving settings, create/update the configuration in  │ │
│ │ llm_configurations table                                    │ │
│ │ - Stop saving API keys in the old settings format           │ │
│ │                                                             │ │
│ │ 4. Update Backend Integration                               │ │
│ │                                                             │ │
│ │ - Modify settings save endpoint to work with                │ │
│ │ llm_configurations                                          │ │
│ │ - Ensure the system uses the selected configuration's API   │ │
│ │ key                                                         │ │
│ │ - Add logic to automatically select the default             │ │
│ │ configuration                                               │ │
│ │                                                             │ │
│ │ 5. Add Configuration Management UI                          │ │
│ │                                                             │ │
│ │ - Add inline "Add API Key" form                             │ │
│ │ - Add edit/delete options for each configuration            │ │
│ │ - Show which configuration is currently active/default      │ │
│ │ - Allow setting a configuration as default                  │ │
│ │                                                             │ │
│ │ 6. Data Migration                                           │ │
│ │                                                             │ │
│ │ - Create script to migrate existing single API keys to the  │ │
│ │ new multi-configuration system                              │ │
│ │ - Ensure backward compatibility during transition           │ │
│ │                                                             │ │
│ │ This will create a seamless experience where users can:     │ │
│ │ 1. Select their LLM provider from dropdown                  │ │
│ │ 2. Choose from multiple stored API keys for that provider   │ │
│ │ 3. Add new API keys on the fly                              │ │
│ │ 4. Switch between configurations easily                     │ │
│ │ 5. Have one configuration marked as default                 │ │
│ │                                                             │ │
│ │ Would you like me to proceed with implementing these        │ │
│ │ changes?
